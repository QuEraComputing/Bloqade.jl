# Hamiltonians


In EaRyd, the simplest way of creating a Rydberg interacting Hamiltonian is via the `rydberg_h`
function

```@docs
rydberg_h
```

## The Hamiltonian Expressions

Inside this package, a more general definition of hamiltonians
are supported as Symbolic expressions, this
gives user the flexiblity to define various different kind of
hamltonian by simply writing down the expression.

There are currently 4 terms supported: [`RydInteract`](@ref),
[`XTerm`](@ref), [`NTerm`](@ref), [`ZTerm`](@ref). The terms
can be added up to compose a new hamiltonian, e.g

```@repl hamiltonian
using EaRyd
h = XTerm(5, 1.0) + ZTerm(5, 1.0)
```


## Convert Hamiltonian Expression to Matrices

The Hamiltonian expressions can be converted to matrices
via type conversion, e.g we can convert the above hamiltonian
to a `SparseMatrixCSC`

```@repl hamiltonian
using SparseArrays
SparseMatrixCSC(h)
```


## Building Time-Dependent Hamiltonian

One can directly use waveforms to build a time-dependent Hamiltonian. First we can use the  [`generate_sites`](@ref) to create a list of atom coordinates. 

```@repl hamiltonian
atoms = generate_sites(ChainLattice(), nsites, scale=5.72)
```

Then we generate time-dependent pulses for ``\Omega`` and ``\Delta`` by using 
[`piecewise_linear`](@ref). 
```@repl hamiltonian
Ω1 = piecewise_linear(clocks=[0.0, 0.1, 2.1, 2.2], values=[0.0, 6,6, 0])
Δ1 = piecewise_linear(clocks=[0.0, 0.6, 2.1, 2.2], values=[-10, -10, 10, 10])
```

The time-dependent Hamiltonian is simply generated by inputting the waveforms into the function [`rydberg_h`](@ref)

```@repl hamiltonian
h1 = rydberg_h(atoms; Δ=Δ1, Ω=Ω1)
```

By specifying the time of `h1`, we can  acess the Hamiltonian at a particular time, e.g. 

```@repl hamiltonian
ht= h1(0.5)
```